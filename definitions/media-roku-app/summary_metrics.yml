appLaunches:
  title: App Launches (count)
  unit: COUNT
  query:
    select: count(*)  
    from: RokuSystem
    where: actionName = 'APP_STARTED'
    eventId: entity.guid

totalErrors:
  title: Total Errors (count)
  unit: COUNT
  derive: "@httpErrors + @contentErrors"

contentErrors:
  hidden: true
  title: Content Errors (count)
  unit: COUNT
  query:
    select: filter(count(*), WHERE actionName = 'CONTENT_ERROR')
    from: RokuVideo
    eventId: entity.guid

httpErrors:
  hidden: true
  title: Http Errors (count)
  unit: COUNT
  query: 
    select: filter(count(*), WHERE actionName = 'HTTP_ERROR')
    from: RokuSystem
    eventId: entity.guid

videoStartTime:
  title: Median Video Start Time (ms)
  unit: MILLISECONDS
  query:
    select: percentile(timeSinceRequested - timeSinceStarted ,50) 
    from: RokuVideo
    where: actionName = 'CONTENT_START'
    eventId: entity.guid